<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mr. ARTHUR JUNIOR</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="responsiveness.css">
</head>

<body>

    <div class="container">
        <div class="profile">
            <div class="card">
                <img src="../images/218005602.jpg" alt="arthur">
            </div>
            <div class="info">
                <h4><b id="first_name"></b> <b id="last_name"></b></h4>
                <p id="email"></p>
                <img src="../images/online.png" srcset="">
            </div>

        </div>
        <div class="admin">
            <h2>ADMINISTRATOR</h2>
        </div>
        <div class="menu">
            <ul>
                <li class="active">
                    <a href="./dashboard.html"><img src="../images/ant-design_dashboard-outlined.png" alt="" srcset="">
                        <p>Dashboard</p>
                    </a>
                </li>
                <li>
                    <a href="./articles.html"><img src="../images/grommet-icons_article.png" alt="" srcset="">
                        <p>Articles</p>
                    </a>
                </li>
                <li>
                    <a href="./users.html"><img src="../images/user.png" alt="" srcset="">
                        <p>Users</p>
                    </a>
                </li>
                <li>
                    <a href="./comments.html"><img src="../images/comment1.png" alt="" srcset="">
                        <p>Comments</p>
                    </a>
                </li>
                <li>
                    <a href="./subscribes.html"><img src="../images/subscribes.png" alt="" srcset="">
                        <p>Subscribes</p>
                    </a>
                </li>
                <li>
                    <a href="./queries.html"><img src="../images/question.png" alt="" srcset="">
                        <p>Queries/Questions</p>
                    </a>
                </li>
                <li>
                    <a href="./settings.html"><img src="../images/settings.png" alt="" srcset="">
                        <p>Settings</p>
                    </a>
                </li>
            </ul>
        </div>
        <div class="user">
            <h2>User</h2>
        </div>
        <div class="logout">
            <a href="../index.html">
                <li><img src="../images/logout.png" alt="" srcset="">
                    <p>Logout</p>
                </li>
            </a>
        </div>

    </div>
    <div class="rightside">

    </div>
    <h1 class="heading">Dashboard</h1>
    <input type="text" placeholder="Search Dashboard..."><button class="search">Search</button>
    <div>
        <table style="width:30%">
            <tr>
                <th colspan="2">Site info</th>
            </tr>
            <tr>
                <td>2</td>
                <td>Articles</td>

            </tr>
            <tr>
                <td>4</td>
                <td>Users</td>

            </tr>
            <tr>
                <td>3</td>
                <td>Comments</td>

            </tr>
            <tr>
                <td>4</td>
                <td>Subscribes</td>

            </tr>
        </table>
        <table style="width:30%" class="table2">
            <tr>
                <th colspan="2">Graph</th>
            </tr>
            <tr>
                <td colspan="4" class="titles">
                    <p>Analytics</p>
                    <p>Subscribes</p>
                    <p>Articles</p>
                    <p>comments</p>
                    <p>users</p>
                </td>

            </tr>
            <tr>
                <td colspan="2"><img src="../images/Captureee 1.png" alt="" srcset=""></td>
            </tr>

        </table>
    </div>

    <script>
        async function getProfile() {
            let user = localStorage.getItem('user');
            if (!user) return window.location.href = "./index.html";
            user = JSON.parse(user);


            document.getElementById('first_name').innerHTML = "Arthur";
            document.getElementById('last_name').innerHTML = "Junior";
            document.getElementById('email').innerHTML = user.email;

            const citiesRef = db.collection('users');
            const snapshot = await citiesRef.where('email', '==', user.email).get();;
            if (snapshot.empty) {
                console.log('No matching documents.');
                return;
            }

            snapshot.forEach(doc => {
                console.log(JSON.stringify(doc.data()));
            });
        }
        getProfile();
    </script>



    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js "></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-auth.js "></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-firestore.js "></script>
    <script src="./scripts/firebase.js "></script>

</body>

</html>